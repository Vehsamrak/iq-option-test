# Subscriber

Реализация компонента Б, который слушает только те версии сообщений, на которые он подписался.
Процесс воркера запускается внутри контейнера docker при его старте, через supervisor.
Общение с компонентом А происходит через очередь сообщений (redis), запущенную в контейнере eventbus.
Все параметры запуска воркера могут быть заданы через конфигурационный файл `/etc/supervisor/supervisord.conf`.

Результат работы компонента можно наблюдать следующим образом:

```
# после запуска и входа в vargant, наблюдать за логами воркера:
sudo docker exec -t subscriber tail /var/log/worker.log
```

Либо соединиться с БД, находящейся внутри docker контейнера: `/var/data/subscriber/database.db`

Разработка и тестирование могут осуществлятся через Vagrant.
Запуск тестов:

```
cd /vagrant/subscriber
composer install
vendor/bin/phpunit tests/
```